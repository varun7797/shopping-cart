{"ast":null,"code":"import _classCallCheck from \"/Users/varunganglani/shopping-cart2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/varunganglani/shopping-cart2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/varunganglani/shopping-cart2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/varunganglani/shopping-cart2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/varunganglani/shopping-cart2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/varunganglani/shopping-cart2/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\n\nString.prototype.compare = function (a) {\n  if (a.toString() > this.toString()) return -1;\n  if (a.toString() < this.toString()) return 1;\n  return 0;\n};\n\nvar SizeButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SizeButton, _Component);\n\n  function SizeButton(props) {\n    var _this;\n\n    _classCallCheck(this, SizeButton);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SizeButton).call(this, props));\n\n    _this.toggleCheckboxChange = function () {\n      _this.setState(function (_ref) {\n        var toggled = _ref.toggled;\n        return {\n          toggled: !toggled\n        };\n      });\n\n      _this.props.handleToggleFilterSize();\n    };\n\n    _this.state = {\n      toggled: false\n    };\n    return _this;\n  }\n\n  _createClass(SizeButton, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"filters-available-size\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: this.props.size,\n        checked: this.state.toggled,\n        onChange: this.toggleCheckboxChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, this.props.size)));\n    }\n  }]);\n\n  return SizeButton;\n}(Component);\n\nvar Sidebar =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Sidebar, _Component2);\n\n  function Sidebar() {\n    _classCallCheck(this, Sidebar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Sidebar).apply(this, arguments));\n  }\n\n  _createClass(Sidebar, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var sizes = [\"XS\", \"S\", \"M\", \"X\", \"ML\", \"L\", \"XL\", \"XXL\"];\n      var sizeButtons = sizes.map(function (sz) {\n        return React.createElement(SizeButton, {\n          key: sz,\n          size: sz,\n          handleToggleFilterSize: function handleToggleFilterSize() {\n            return _this2.props.handleToggleFilterSize(sz);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        className: \"filters\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Sizes:\"), sizeButtons);\n    }\n  }]);\n\n  return Sidebar;\n}(Component);\n\nvar ProductSizeButton =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(ProductSizeButton, _Component3);\n\n  function ProductSizeButton() {\n    _classCallCheck(this, ProductSizeButton);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ProductSizeButton).apply(this, arguments));\n  }\n\n  _createClass(ProductSizeButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var size = this.props.size;\n      return React.createElement(\"div\", {\n        className: \"shelf-item__buy-btn\",\n        onClick: function onClick() {\n          return _this3.props.handleButtonClick();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, size);\n    }\n  }]);\n\n  return ProductSizeButton;\n}(Component);\n\nvar Product =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(Product, _Component4);\n\n  function Product() {\n    _classCallCheck(this, Product);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Product).apply(this, arguments));\n  }\n\n  _createClass(Product, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var product = this.props.product;\n      var buyButtons = Object.keys(product.availableSizes).map(function (size, qty) {\n        return React.createElement(ProductSizeButton, {\n          size: size,\n          key: size,\n          handleButtonClick: function handleButtonClick() {\n            return _this4.props.handleButtonClick(size);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        className: \"shelf-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"shelf-item__thumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require(\"./static/data/products/\".concat(product.sku, \"_1.jpg\")),\n        alt: product.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"shelf-item__title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, product.title), React.createElement(\"p\", {\n        className: \"shelf-item__price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"$\", product.price.toFixed(2)), buyButtons);\n    }\n  }]);\n\n  return Product;\n}(Component);\n\nvar Canvas =\n/*#__PURE__*/\nfunction (_Component5) {\n  _inherits(Canvas, _Component5);\n\n  function Canvas() {\n    _classCallCheck(this, Canvas);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Canvas).apply(this, arguments));\n  }\n\n  _createClass(Canvas, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.filteredSizes !== this.props.filteredSizes) {\n        this.forceUpdate();\n      }\n\n      if (nextProps.inventory !== this.props.inventory) {\n        this.forceUpdate();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var products = this.props.inventory;\n      var filteredSizes = this.props.filteredSizes;\n      var filteredProducts = products.filter(function (p) {\n        var sizes = Object.keys(p.availableSizes);\n\n        for (var i = 0; i < sizes.length; i++) {\n          if (filteredSizes.has(sizes[i])) {\n            return true;\n          }\n        }\n\n        return false;\n      });\n      if (filteredSizes.size <= 0) filteredProducts = products;\n      filteredProducts = filteredProducts.filter(function (p) {\n        return Object.keys(p.availableSizes).length > 0;\n      });\n      var productListing = filteredProducts.map(function (key, val) {\n        var p = filteredProducts[val];\n        return React.createElement(Product, {\n          key: p.id,\n          product: p,\n          handleButtonClick: function handleButtonClick(sz) {\n            return _this5.props.handleAddToCartButton(p, sz);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        className: \"shelf-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"shelf-container-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"products-found\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, filteredProducts.length, \" products found.\")), productListing);\n    }\n  }]);\n\n  return Canvas;\n}(Component);\n\nvar CartProduct =\n/*#__PURE__*/\nfunction (_Component6) {\n  _inherits(CartProduct, _Component6);\n\n  function CartProduct() {\n    var _getPrototypeOf2;\n\n    var _this6;\n\n    _classCallCheck(this, CartProduct);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this6 = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CartProduct)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this6.state = {\n      isMouseOver: false\n    };\n\n    _this6.handleMouseOver = function () {\n      _this6.setState({\n        isMouseOver: true\n      });\n    };\n\n    _this6.handleMouseOut = function () {\n      _this6.setState({\n        isMouseOver: false\n      });\n    };\n\n    return _this6;\n  }\n\n  _createClass(CartProduct, [{\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var _this$props = this.props,\n          product = _this$props.product,\n          removeProduct = _this$props.removeProduct;\n      var classes = ['shelf-item'];\n\n      if (!!this.state.isMouseOver) {\n        classes.push('shelf-item--mouseover');\n      }\n\n      return React.createElement(\"div\", {\n        className: classes.join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"shelf-item__del\",\n        onMouseOver: function onMouseOver() {\n          return _this7.handleMouseOver();\n        },\n        onMouseOut: function onMouseOut() {\n          return _this7.handleMouseOut();\n        },\n        onClick: function onClick() {\n          return removeProduct(product);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        className: \"shelf-item__thumb\",\n        src: require(\"./static/data/products/\".concat(product.sku, \"_2.jpg\")),\n        alt: product.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"shelf-item__details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, product.title), React.createElement(\"p\", {\n        className: \"desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"\".concat(product.size, \" | \").concat(product.style), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), \"Quantity: \", product.quantity)), React.createElement(\"div\", {\n        className: \"shelf-item__price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"$\", product.price.toFixed(2))), React.createElement(\"div\", {\n        className: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CartProduct;\n}(Component);\n\nvar FloatCart =\n/*#__PURE__*/\nfunction (_Component7) {\n  _inherits(FloatCart, _Component7);\n\n  function FloatCart(props) {\n    var _this8;\n\n    _classCallCheck(this, FloatCart);\n\n    _this8 = _possibleConstructorReturn(this, _getPrototypeOf(FloatCart).call(this, props));\n\n    _this8.openFloatCart = function () {\n      _this8.setState({\n        isOpen: true\n      });\n    };\n\n    _this8.closeFloatCart = function () {\n      _this8.setState({\n        isOpen: false\n      });\n    };\n\n    _this8.addProduct = function (product) {\n      var cartProducts = _this8.props.cartProducts;\n      var updateCart = _this8.props.updateCart;\n      var inventory = _this8.props.inventory;\n      var updateInventory = _this8.props.updateInventory;\n      var productAlreadyInCart = false;\n      cartProducts.forEach(function (cp) {\n        if (cp.id === product.id && cp.size.compare(product.size) === 0) {\n          cp.quantity += product.quantity;\n          productAlreadyInCart = true;\n        }\n      });\n\n      if (!productAlreadyInCart) {\n        cartProducts.push(product);\n      } // inventory update\n\n\n      inventory.splice();\n      var index = inventory.findIndex(function (p) {\n        return p.id === product.id;\n      });\n\n      if (index >= 0) {\n        inventory[index].availableSizes[product.size]--;\n        if (inventory[index].availableSizes[product.size] <= 0) delete inventory[index].availableSizes[product.size];\n        updateInventory(inventory);\n      }\n\n      updateCart(cartProducts);\n\n      _this8.openFloatCart();\n    };\n\n    _this8.removeProduct = function (product) {\n      var cartProducts = _this8.props.cartProducts;\n      var updateCart = _this8.props.updateCart;\n      var inventory = _this8.props.inventory;\n      var updateInventory = _this8.props.updateInventory;\n      var index = cartProducts.findIndex(function (p) {\n        return p.id === product.id && p.size.compare(product.size) === 0;\n      });\n\n      if (index >= 0) {\n        if (--cartProducts[index].quantity <= 0) {\n          cartProducts.splice(index, 1);\n        }\n\n        updateCart(cartProducts);\n      }\n\n      inventory.splice();\n      index = inventory.findIndex(function (p) {\n        return p.id === product.id;\n      });\n\n      if (index >= 0) {\n        if (!inventory[index].availableSizes.hasOwnProperty(product.size)) inventory[index].availableSizes[product.size] = 0;\n        inventory[index].availableSizes[product.size]++;\n        updateInventory(inventory);\n      }\n    };\n\n    _this8.state = {\n      isOpen: false\n    };\n    return _this8;\n  }\n\n  _createClass(FloatCart, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.productToAdd !== this.props.productToAdd) {\n        this.addProduct(nextProps.productToAdd);\n      }\n\n      if (nextProps.productToRemove !== this.props.productToRemove) {\n        this.removeProduct(nextProps.productToRemove);\n      }\n\n      if (nextProps.cartProducts !== this.props.cartProducts) {\n        this.forceUpdate();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      var cartProducts = this.props.cartProducts;\n      var classes = ['float-cart'];\n      var numProducts = 0;\n\n      for (var i = 0; i < cartProducts.length; i++) {\n        numProducts += cartProducts[i].quantity;\n      }\n\n      var products = cartProducts.map(function (p) {\n        return React.createElement(CartProduct, {\n          product: p,\n          removeProduct: function removeProduct(p) {\n            return _this9.removeProduct(p);\n          },\n          key: Math.random(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312\n          },\n          __self: this\n        });\n      });\n\n      if (!!this.state.isOpen) {\n        classes.push('float-cart--open');\n      }\n\n      return React.createElement(\"div\", {\n        className: classes.join(' '),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, this.state.isOpen && React.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this9.closeFloatCart();\n        },\n        className: \"float-cart__close-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, \"X\"), !this.state.isOpen && React.createElement(\"span\", {\n        onClick: function onClick() {\n          return _this9.openFloatCart();\n        },\n        className: \"bag bag--float-cart-closed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bag__quantity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, numProducts)), React.createElement(\"div\", {\n        className: \"float-cart__content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"float-cart__header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"bag__quantity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }, numProducts)), React.createElement(\"span\", {\n        className: \"header-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, \"Cart\")), React.createElement(\"div\", {\n        className: \"float-cart__shelf-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, products, !products.length && React.createElement(\"p\", {\n        className: \"shelf-empty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, \"Add some products in the cart \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }), \"^^\")), React.createElement(\"div\", {\n        className: \"float-cart__footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, \"SUBTOTAL\"), React.createElement(\"div\", {\n        className: \"sub-price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"sub-price__val\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, totalPrice(cartProducts).toFixed(2))), React.createElement(\"div\", {\n        className: \"buy-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, \"Checkout\"))));\n    }\n  }]);\n\n  return FloatCart;\n}(Component);\n\nvar App =\n/*#__PURE__*/\nfunction (_Component8) {\n  _inherits(App, _Component8);\n\n  function App(props) {\n    var _this10;\n\n    _classCallCheck(this, App);\n\n    _this10 = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this10.state = {\n      inventory: jsonResponse.products,\n      cartProducts: [],\n      productToAdd: null,\n      productToRemove: null,\n      filteredSizes: new Set()\n    };\n    return _this10;\n  }\n\n  _createClass(App, [{\n    key: \"handleToggleFilterSize\",\n    value: function handleToggleFilterSize(size) {\n      var fSizes = this.state.filteredSizes;\n\n      if (fSizes.has(size)) {\n        fSizes.delete(size);\n      } else {\n        fSizes.add(size);\n      }\n\n      this.setState({\n        filteredSizes: fSizes\n      });\n      return;\n    }\n  }, {\n    key: \"handleAddToCartButton\",\n    value: function handleAddToCartButton(prod, size) {\n      var product = Object.assign({}, prod);\n      product.quantity = 1; // default behavior of add to cart button\n\n      product.size = size;\n      product.key = Math.random(); // default behavior of add to cart button\n\n      this.setState({\n        productToAdd: product\n      });\n    }\n  }, {\n    key: \"updateCart\",\n    value: function updateCart(cartProducts) {\n      this.setState({\n        cartProducts: cartProducts\n      });\n      console.log(cartProducts);\n    }\n  }, {\n    key: \"updateInventory\",\n    value: function updateInventory(inventory) {\n      this.setState({\n        inventory: inventory\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this11 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        handleToggleFilterSize: function handleToggleFilterSize(size) {\n          return _this11.handleToggleFilterSize(size);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }), React.createElement(Canvas, {\n        handleAddToCartButton: function handleAddToCartButton(prod, size) {\n          return _this11.handleAddToCartButton(prod, size);\n        },\n        inventory: this.state.inventory,\n        filteredSizes: this.state.filteredSizes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      })), React.createElement(FloatCart, {\n        cartProducts: this.state.cartProducts.slice(),\n        updateCart: function updateCart(cP) {\n          return _this11.updateCart(cP);\n        },\n        inventory: this.state.inventory,\n        updateInventory: function updateInventory(inv) {\n          return _this11.updateInventory(inv);\n        },\n        productToAdd: this.state.productToAdd,\n        productToRemove: this.state.productToRemove,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nfunction totalPrice(cartProducts) {\n  var total = 0.0;\n\n  for (var i = 0; i < cartProducts.length; i++) {\n    total += cartProducts[i].quantity * cartProducts[i].price;\n  }\n\n  return total;\n}\n\nvar jsonResponse = {\n  \"products\": [{\n    \"id\": 12,\n    \"sku\": 12064273040195392,\n    \"title\": \"Cat Tee Black T-Shirt\",\n    \"description\": \"4 MSL\",\n    \"availableSizes\": {\n      \"S\": 3,\n      \"XS\": 5\n    },\n    \"style\": \"Black with custom print\",\n    \"price\": 10.9,\n    \"installments\": 9,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 13,\n    \"sku\": 51498472915966366,\n    \"title\": \"Dark Thug Blue-Navy T-Shirt\",\n    \"description\": \"\",\n    \"availableSizes\": {\n      \"M\": 2\n    },\n    \"style\": \"Front print and paisley print\",\n    \"price\": 29.45,\n    \"installments\": 5,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 14,\n    \"sku\": 10686354557628303,\n    \"title\": \"Sphynx Tie Dye Wine T-Shirt\",\n    \"description\": \"GPX Poly 1\",\n    \"availableSizes\": {\n      \"X\": 3,\n      \"L\": 1,\n      \"XL\": 5\n    },\n    \"style\": \"Front tie dye print\",\n    \"price\": 9.0,\n    \"installments\": 3,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 15,\n    \"sku\": 11033926921508487,\n    \"title\": \"Skuul\",\n    \"description\": \"Treino 2014\",\n    \"availableSizes\": {\n      \"X\": 4,\n      \"L\": 2,\n      \"XL\": 3,\n      \"XXL\": 1\n    },\n    \"style\": \"Black T-Shirt with front print\",\n    \"price\": 14.0,\n    \"installments\": 5,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 11,\n    \"sku\": 39876704341265606,\n    \"title\": \"Wine Skul T-Shirt\",\n    \"description\": \"\",\n    \"availableSizes\": {\n      \"X\": 5,\n      \"L\": 2\n    },\n    \"style\": \"Wine\",\n    \"price\": 13.25,\n    \"installments\": 3,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 16,\n    \"sku\": 10412368723880253,\n    \"title\": \"Short Sleeve T-Shirt\",\n    \"description\": \"\",\n    \"availableSizes\": {\n      \"XS\": 3,\n      \"X\": 4,\n      \"L\": 5,\n      \"ML\": 1,\n      \"XL\": 1\n    },\n    \"style\": \"Grey\",\n    \"price\": 75.0,\n    \"installments\": 5,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 0,\n    \"sku\": 8552515751438644,\n    \"title\": \"Cat Tee Black T-Shirt\",\n    \"description\": \"14/15 s/nº\",\n    \"availableSizes\": {\n      \"X\": 2,\n      \"L\": 4,\n      \"XL\": 3,\n      \"XXL\": 5\n    },\n    \"style\": \"Branco com listras pretas\",\n    \"price\": 10.9,\n    \"installments\": 9,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 1,\n    \"sku\": 18644119330491312,\n    \"title\": \"Sphynx Tie Dye Grey T-Shirt\",\n    \"description\": \"14/15 s/nº\",\n    \"availableSizes\": {\n      \"X\": 4,\n      \"L\": 3,\n      \"XL\": 2,\n      \"XXL\": 1\n    },\n    \"style\": \"Preta com listras brancas\",\n    \"price\": 10.9,\n    \"installments\": 9,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 2,\n    \"sku\": 11854078013954528,\n    \"title\": \"Danger Knife Grey\",\n    \"description\": \"14/15 s/nº\",\n    \"availableSizes\": {\n      \"X\": 2,\n      \"L\": 3\n    },\n    \"style\": \"Branco com listras pretas\",\n    \"price\": 14.9,\n    \"installments\": 7,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 3,\n    \"sku\": 876661122392077,\n    \"title\": \"White DGK Script Tee\",\n    \"description\": \"2014 s/nº\",\n    \"availableSizes\": {\n      \"X\": 1,\n      \"L\": 3\n    },\n    \"style\": \"Preto com listras brancas\",\n    \"price\": 14.9,\n    \"installments\": 7,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 4,\n    \"sku\": 9197907543445677,\n    \"title\": \"Born On The Streets\",\n    \"description\": \"14/15 s/nº - Jogador\",\n    \"availableSizes\": {\n      \"XL\": 2\n    },\n    \"style\": \"Branco com listras pretas\",\n    \"price\": 25.9,\n    \"installments\": 12,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": false\n  }, {\n    \"id\": 5,\n    \"sku\": 10547961582846888,\n    \"title\": \"Tso 3D Short Sleeve T-Shirt A\",\n    \"description\": \"14/15 + Camiseta 1º Mundial\",\n    \"availableSizes\": {\n      \"X\": 3,\n      \"L\": 2,\n      \"XL\": 1\n    },\n    \"style\": \"Preto\",\n    \"price\": 10.9,\n    \"installments\": 9,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": false\n  }, {\n    \"id\": 6,\n    \"sku\": 6090484789343891,\n    \"title\": \"Man Tie Dye Cinza Grey T-Shirt\",\n    \"description\": \"Goleiro 13/14\",\n    \"availableSizes\": {\n      \"XL\": 2,\n      \"XXL\": 2\n    },\n    \"style\": \"Branco\",\n    \"price\": 49.9,\n    \"installments\": 0,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 7,\n    \"sku\": 18532669286405342,\n    \"title\": \"Crazy Monkey Black T-Shirt\",\n    \"description\": \"1977 Infantil\",\n    \"availableSizes\": {\n      \"S\": 2\n    },\n    \"style\": \"Preto com listras brancas\",\n    \"price\": 22.5,\n    \"installments\": 4,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 8,\n    \"sku\": 5619496040738316,\n    \"title\": \"Tso 3D Black T-Shirt\",\n    \"description\": \"\",\n    \"availableSizes\": {\n      \"XL\": 1\n    },\n    \"style\": \"Azul escuro\",\n    \"price\": 18.7,\n    \"installments\": 4,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": false\n  }, {\n    \"id\": 9,\n    \"sku\": 11600983276356165,\n    \"title\": \"Crazy Monkey Grey\",\n    \"description\": \"\",\n    \"availableSizes\": {\n      \"L\": 2,\n      \"XL\": 2\n    },\n    \"style\": \"\",\n    \"price\": 134.9,\n    \"installments\": 5,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }, {\n    \"id\": 10,\n    \"sku\": 27250082398145995,\n    \"title\": \"On The Streets Black T-Shirt\",\n    \"description\": \"\",\n    \"availableSizes\": {\n      \"L\": 4,\n      \"XL\": 3\n    },\n    \"style\": \"\",\n    \"price\": 49.0,\n    \"installments\": 9,\n    \"currencyId\": \"USD\",\n    \"currencyFormat\": \"$\",\n    \"isFreeShipping\": true\n  }]\n};\nexport default App;","map":{"version":3,"sources":["/Users/varunganglani/shopping-cart2/src/App.js"],"names":["React","Component","String","prototype","compare","a","toString","SizeButton","props","toggleCheckboxChange","setState","toggled","handleToggleFilterSize","state","size","Sidebar","sizes","sizeButtons","map","sz","ProductSizeButton","handleButtonClick","Product","product","buyButtons","Object","keys","availableSizes","qty","require","sku","title","price","toFixed","Canvas","nextProps","filteredSizes","forceUpdate","inventory","products","filteredProducts","filter","p","i","length","has","productListing","key","val","id","handleAddToCartButton","CartProduct","isMouseOver","handleMouseOver","handleMouseOut","removeProduct","classes","push","join","style","quantity","FloatCart","openFloatCart","isOpen","closeFloatCart","addProduct","cartProducts","updateCart","updateInventory","productAlreadyInCart","forEach","cp","splice","index","findIndex","hasOwnProperty","productToAdd","productToRemove","numProducts","Math","random","totalPrice","App","jsonResponse","Set","fSizes","delete","add","prod","assign","console","log","slice","cP","inv","total"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nString.prototype.compare = function (a)\n  {\n    if (a.toString() > this.toString()) return -1;\n    if (a.toString() < this.toString()) return 1;\n    return 0;\n  };\n\nclass SizeButton extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      toggled: false,\n    }\n  }\n\n  toggleCheckboxChange = () => {\n    this.setState(({ toggled }) => ({\n      toggled: !toggled\n    }));\n    this.props.handleToggleFilterSize();\n  };\n\n  render() {\n    return (\n      <div className=\"filters-available-size\">\n      <label>\n        <input\n          type=\"checkbox\"\n          value={this.props.size}\n          checked={this.state.toggled}\n          onChange={this.toggleCheckboxChange}\n        />\n        <span className=\"checkmark\">{this.props.size}</span>\n      </label>\n      </div>\n    );\n  }\n}\n\nclass Sidebar extends Component {\n  render() {\n    const sizes = [\"XS\", \"S\", \"M\", \"X\", \"ML\", \"L\", \"XL\", \"XXL\"];\n    const sizeButtons = sizes.map((sz) => {\n      return(\n        <SizeButton\n          key={sz}\n          size={sz}\n          handleToggleFilterSize={() => this.props.handleToggleFilterSize(sz)}\n        />\n      );\n    });\n\n    return (\n      <div className=\"filters\">\n        <h4 className=\"title\">Sizes:</h4>\n        {sizeButtons}\n      </div>\n    );\n  }\n}\n\nclass ProductSizeButton extends Component {\n  render() {\n    const size = this.props.size;\n    return (\n      <div\n        className=\"shelf-item__buy-btn\"\n        onClick={() => this.props.handleButtonClick()}\n      >\n        {size}\n      </div>\n    );\n  }\n}\n\nclass Product extends Component {\n  render() {\n    const product = this.props.product;\n\n    const buyButtons = Object.keys(product.availableSizes).map((size, qty) => {\n      return (\n        <ProductSizeButton\n          size={size}\n          key={size}\n          handleButtonClick={() => this.props.handleButtonClick(size)}\n        />\n      );\n    })\n\n    return (\n      <div className=\"shelf-item\">\n        <div className=\"shelf-item__thumb\">\n          <img src={require(`./static/data/products/${product.sku}_1.jpg`)}\n           alt={product.title} />\n        </div>\n        <p className=\"shelf-item__title\">{product.title}</p>\n        <p className=\"shelf-item__price\">${product.price.toFixed(2)}</p>\n        {buyButtons}\n      </div>\n    );\n  }\n}\n\nclass Canvas extends Component {\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.filteredSizes !== this.props.filteredSizes) {\n      this.forceUpdate();\n    }\n\n    if (nextProps.inventory !== this.props.inventory) {\n      this.forceUpdate();\n    }\n  }\n\n  render() {\n    const products = this.props.inventory;\n    var filteredSizes = this.props.filteredSizes;\n\n    var filteredProducts = products.filter((p) => {\n      const sizes = Object.keys(p.availableSizes);\n      for (let i = 0; i < sizes.length; i++) {\n        if (filteredSizes.has(sizes[i])) {\n          return true;\n        }\n      }\n      return false;\n    });\n\n    if (filteredSizes.size <= 0) filteredProducts = products;\n\n    filteredProducts = filteredProducts.filter(p => {\n      return Object.keys(p.availableSizes).length > 0;\n    });\n\n    const productListing = filteredProducts.map((key, val) => {\n      let p = filteredProducts[val];\n      return (\n        <Product\n          key={p.id}\n          product={p}\n          handleButtonClick={(sz) => this.props.handleAddToCartButton(p, sz)}\n        />\n      );\n    });\n\n    return (\n      <div className=\"shelf-container\">\n        <div className=\"shelf-container-header\">\n          <div className=\"products-found\">\n          {filteredProducts.length} products found.\n          </div>\n        </div>\n        {productListing}\n      </div>\n    );\n  }\n}\n\nclass CartProduct extends Component {\n  state = {\n    isMouseOver: false\n  };\n\n  handleMouseOver = () => {\n    this.setState({ isMouseOver: true });\n  };\n\n  handleMouseOut = () => {\n    this.setState({ isMouseOver: false });\n  };\n\n  render() {\n    const { product, removeProduct } = this.props;\n    const classes = ['shelf-item'];\n\n    if (!!this.state.isMouseOver) {\n      classes.push('shelf-item--mouseover');\n    }\n\n    return (\n      <div className={classes.join(' ')}>\n        <div\n          className=\"shelf-item__del\"\n          onMouseOver={() => this.handleMouseOver()}\n          onMouseOut={() => this.handleMouseOut()}\n          onClick={() => removeProduct(product)}\n        />\n        <img\n          className=\"shelf-item__thumb\"\n          src={require(`./static/data/products/${product.sku}_2.jpg`)}\n          alt={product.title}\n        />\n        <div className=\"shelf-item__details\">\n          <p className=\"title\">{product.title}</p>\n          <p className=\"desc\">\n            {`${product.size} | ${product.style}`} <br />\n            Quantity: {product.quantity}\n          </p>\n        </div>\n        <div className=\"shelf-item__price\">\n          <p>${product.price.toFixed(2)}</p>\n        </div>\n\n        <div className=\"clearfix\" />\n      </div>\n    );\n  }\n}\n\nclass FloatCart extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isOpen: false,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.productToAdd !== this.props.productToAdd) {\n      this.addProduct(nextProps.productToAdd);\n    }\n\n    if (nextProps.productToRemove !== this.props.productToRemove) {\n      this.removeProduct(nextProps.productToRemove);\n    }\n\n    if (nextProps.cartProducts !== this.props.cartProducts) {\n      this.forceUpdate();\n    }\n  }\n\n  openFloatCart = () => {\n    this.setState({ isOpen: true });\n  };\n\n  closeFloatCart = () => {\n    this.setState({ isOpen: false });\n  };\n\n  addProduct = product => {\n    const cartProducts = this.props.cartProducts;\n    const updateCart = this.props.updateCart;\n    const inventory = this.props.inventory;\n    const updateInventory = this.props.updateInventory;\n    let productAlreadyInCart = false;\n\n    cartProducts.forEach(cp => {\n      if (cp.id === product.id && cp.size.compare(product.size) === 0) {\n        cp.quantity += product.quantity;\n        productAlreadyInCart = true;\n      }\n    });\n\n    if (!productAlreadyInCart) {\n      cartProducts.push(product);\n    }\n\n    // inventory update\n    inventory.splice();\n    const index = inventory.findIndex(p => (p.id === product.id));\n    if (index >= 0) {\n      inventory[index].availableSizes[product.size]--;\n      if (inventory[index].availableSizes[product.size] <= 0)\n        delete inventory[index].availableSizes[product.size];\n      updateInventory(inventory);\n    }\n\n\n    updateCart(cartProducts);\n    this.openFloatCart();\n  };\n\n  removeProduct = product => {\n    const cartProducts = this.props.cartProducts;\n    const updateCart = this.props.updateCart;\n    const inventory = this.props.inventory;\n    const updateInventory = this.props.updateInventory;\n\n    var index = cartProducts.findIndex(p => (p.id === product.id && p.size.compare(product.size) === 0));\n    if (index >= 0) {\n      if (--cartProducts[index].quantity <= 0) {\n        cartProducts.splice(index, 1);\n      }\n      updateCart(cartProducts);\n    }\n    inventory.splice();\n    index = inventory.findIndex(p => (p.id === product.id));\n    if (index >= 0) {\n      if (!inventory[index].availableSizes.hasOwnProperty(product.size))\n        inventory[index].availableSizes[product.size] = 0;\n      inventory[index].availableSizes[product.size]++;\n      updateInventory(inventory);\n    }\n  };\n\n  render() {\n    const cartProducts = this.props.cartProducts;\n    let classes = ['float-cart'];\n\n    let numProducts = 0;\n    for (let i = 0; i < cartProducts.length; i++) {\n      numProducts += cartProducts[i].quantity;\n    }\n\n    const products = cartProducts.map(p => {\n      return (\n        <CartProduct product={p} removeProduct={(p) => this.removeProduct(p)} key={Math.random()} />\n      );\n    });\n\n        if (!!this.state.isOpen) {\n          classes.push('float-cart--open');\n        }\n\n        return (\n          <div className={classes.join(' ')}>\n            {/* If cart open, show close (x) button */}\n            {this.state.isOpen && (\n              <div\n                onClick={() => this.closeFloatCart()}\n                className=\"float-cart__close-btn\"\n              >\n                X\n              </div>\n            )}\n\n            {/* If cart is closed, show bag with quantity of product and open cart action */}\n        {!this.state.isOpen && (\n          <span\n            onClick={() => this.openFloatCart()}\n            className=\"bag bag--float-cart-closed\"\n          >\n            <span className=\"bag__quantity\">{numProducts}</span>\n          </span>\n        )}\n\n        <div className=\"float-cart__content\">\n          <div className=\"float-cart__header\">\n            <span className=\"bag\">\n              <span className=\"bag__quantity\">{numProducts}</span>\n            </span>\n            <span className=\"header-title\">Cart</span>\n          </div>\n\n          <div className=\"float-cart__shelf-container\">\n            {products}\n            {!products.length && (\n              <p className=\"shelf-empty\">\n                Add some products in the cart <br />\n                ^^\n              </p>\n            )}\n          </div>\n\n          <div className=\"float-cart__footer\">\n            <div className=\"sub\">SUBTOTAL</div>\n            <div className=\"sub-price\">\n              <p className=\"sub-price__val\">\n                {totalPrice(cartProducts).toFixed(2)}\n              </p>\n            </div>\n            <div className=\"buy-btn\">\n              Checkout\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inventory: jsonResponse.products,\n      cartProducts: [],\n      productToAdd: null,\n      productToRemove: null,\n      filteredSizes: new Set(),\n    };\n  }\n\n  handleToggleFilterSize(size) {\n    var fSizes = this.state.filteredSizes;\n    if (fSizes.has(size)) {\n      fSizes.delete(size);\n    } else {\n      fSizes.add(size);\n    }\n    this.setState({\n      filteredSizes: fSizes,\n    });\n    return;\n  }\n\n  handleAddToCartButton(prod, size) {\n    let product = Object.assign({}, prod);\n    product.quantity = 1; // default behavior of add to cart button\n    product.size = size;\n    product.key = Math.random(); // default behavior of add to cart button\n    this.setState({\n      productToAdd: product,\n    });\n  }\n\n  updateCart(cartProducts) {\n    this.setState({\n      cartProducts: cartProducts,\n    });\n    console.log(cartProducts);\n  }\n\n  updateInventory(inventory) {\n    this.setState({\n      inventory: inventory,\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <main>\n          <Sidebar handleToggleFilterSize={(size) => this.handleToggleFilterSize(size)}/>\n          <Canvas\n            handleAddToCartButton={(prod, size) => this.handleAddToCartButton(prod, size)}\n            inventory={this.state.inventory}\n            filteredSizes={this.state.filteredSizes}\n          />\n        </main>\n        <FloatCart\n          cartProducts={this.state.cartProducts.slice()}\n          updateCart={(cP) => this.updateCart(cP)}\n          inventory={this.state.inventory}\n          updateInventory={(inv) => this.updateInventory(inv)}\n          productToAdd={this.state.productToAdd}\n          productToRemove={this.state.productToRemove}\n        />\n      </div>\n    );\n  }\n}\n\nfunction totalPrice(cartProducts) {\n  let total = 0.0;\n  for (let i = 0; i < cartProducts.length; i++) {\n    total += cartProducts[i].quantity * cartProducts[i].price;\n  }\n  return total;\n}\n\n\nconst jsonResponse = {\n  \"products\": [\n    {\n      \"id\": 12,\n      \"sku\": 12064273040195392,\n      \"title\": \"Cat Tee Black T-Shirt\",\n      \"description\": \"4 MSL\",\n      \"availableSizes\": {\"S\": 3, \"XS\": 5},\n      \"style\": \"Black with custom print\",\n      \"price\": 10.9,\n      \"installments\": 9,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 13,\n      \"sku\": 51498472915966366,\n      \"title\": \"Dark Thug Blue-Navy T-Shirt\",\n      \"description\": \"\",\n      \"availableSizes\": {\"M\": 2},\n      \"style\": \"Front print and paisley print\",\n      \"price\": 29.45,\n      \"installments\": 5,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 14,\n      \"sku\": 10686354557628303,\n      \"title\": \"Sphynx Tie Dye Wine T-Shirt\",\n      \"description\": \"GPX Poly 1\",\n      \"availableSizes\": {\"X\": 3, \"L\": 1, \"XL\": 5},\n      \"style\": \"Front tie dye print\",\n      \"price\": 9.0,\n      \"installments\": 3,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 15,\n      \"sku\": 11033926921508487,\n      \"title\": \"Skuul\",\n      \"description\": \"Treino 2014\",\n      \"availableSizes\": {\"X\": 4, \"L\": 2, \"XL\": 3, \"XXL\": 1},\n      \"style\": \"Black T-Shirt with front print\",\n      \"price\": 14.0,\n      \"installments\": 5,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 11,\n      \"sku\": 39876704341265606,\n      \"title\": \"Wine Skul T-Shirt\",\n      \"description\": \"\",\n      \"availableSizes\": {\"X\": 5, \"L\": 2},\n      \"style\": \"Wine\",\n      \"price\": 13.25,\n      \"installments\": 3,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 16,\n      \"sku\": 10412368723880253,\n      \"title\": \"Short Sleeve T-Shirt\",\n      \"description\": \"\",\n      \"availableSizes\": {\"XS\": 3, \"X\": 4, \"L\": 5, \"ML\": 1, \"XL\": 1},\n      \"style\": \"Grey\",\n      \"price\": 75.0,\n      \"installments\": 5,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 0,\n      \"sku\": 8552515751438644,\n      \"title\": \"Cat Tee Black T-Shirt\",\n      \"description\": \"14/15 s/nº\",\n      \"availableSizes\": {\"X\": 2, \"L\": 4, \"XL\": 3, \"XXL\": 5},\n      \"style\": \"Branco com listras pretas\",\n      \"price\": 10.9,\n      \"installments\": 9,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 1,\n      \"sku\": 18644119330491312,\n      \"title\": \"Sphynx Tie Dye Grey T-Shirt\",\n      \"description\": \"14/15 s/nº\",\n      \"availableSizes\": {\"X\": 4, \"L\": 3, \"XL\": 2, \"XXL\": 1},\n      \"style\": \"Preta com listras brancas\",\n      \"price\": 10.9,\n      \"installments\": 9,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 2,\n      \"sku\": 11854078013954528,\n      \"title\": \"Danger Knife Grey\",\n      \"description\": \"14/15 s/nº\",\n      \"availableSizes\": {\"X\": 2, \"L\": 3},\n      \"style\": \"Branco com listras pretas\",\n      \"price\": 14.9,\n      \"installments\": 7,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 3,\n      \"sku\": 876661122392077,\n      \"title\": \"White DGK Script Tee\",\n      \"description\": \"2014 s/nº\",\n      \"availableSizes\": {\"X\": 1, \"L\": 3},\n      \"style\": \"Preto com listras brancas\",\n      \"price\": 14.9,\n      \"installments\": 7,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 4,\n      \"sku\": 9197907543445677,\n      \"title\": \"Born On The Streets\",\n      \"description\": \"14/15 s/nº - Jogador\",\n      \"availableSizes\": {\"XL\": 2},\n      \"style\": \"Branco com listras pretas\",\n      \"price\": 25.9,\n      \"installments\": 12,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": false\n    },\n\n    {\n      \"id\": 5,\n      \"sku\": 10547961582846888,\n      \"title\": \"Tso 3D Short Sleeve T-Shirt A\",\n      \"description\": \"14/15 + Camiseta 1º Mundial\",\n      \"availableSizes\": {\"X\": 3, \"L\": 2, \"XL\": 1},\n      \"style\": \"Preto\",\n      \"price\": 10.9,\n      \"installments\": 9,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": false\n    },\n\n    {\n      \"id\": 6,\n      \"sku\": 6090484789343891,\n      \"title\": \"Man Tie Dye Cinza Grey T-Shirt\",\n      \"description\": \"Goleiro 13/14\",\n      \"availableSizes\": {\"XL\": 2, \"XXL\": 2},\n      \"style\": \"Branco\",\n      \"price\": 49.9,\n      \"installments\": 0,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 7,\n      \"sku\": 18532669286405342,\n      \"title\": \"Crazy Monkey Black T-Shirt\",\n      \"description\": \"1977 Infantil\",\n      \"availableSizes\": {\"S\": 2},\n      \"style\": \"Preto com listras brancas\",\n      \"price\": 22.5,\n      \"installments\": 4,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 8,\n      \"sku\": 5619496040738316,\n      \"title\": \"Tso 3D Black T-Shirt\",\n      \"description\": \"\",\n      \"availableSizes\": {\"XL\": 1},\n      \"style\": \"Azul escuro\",\n      \"price\": 18.7,\n      \"installments\": 4,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": false\n    },\n\n    {\n      \"id\": 9,\n      \"sku\": 11600983276356165,\n      \"title\": \"Crazy Monkey Grey\",\n      \"description\": \"\",\n      \"availableSizes\": {\"L\": 2, \"XL\": 2},\n      \"style\": \"\",\n      \"price\": 134.9,\n      \"installments\": 5,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    },\n\n    {\n      \"id\": 10,\n      \"sku\": 27250082398145995,\n      \"title\": \"On The Streets Black T-Shirt\",\n      \"description\": \"\",\n      \"availableSizes\": {\"L\": 4, \"XL\": 3},\n      \"style\": \"\",\n      \"price\": 49.0,\n      \"installments\": 9,\n      \"currencyId\": \"USD\",\n      \"currencyFormat\": \"$\",\n      \"isFreeShipping\": true\n    }\n  ]\n};\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}